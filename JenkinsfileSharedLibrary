@Library("jenkins-learn-shared-library@main")_

pipeline {
  agent any
  stages {
    stage('Build') {
      steps {
        echo ('Hello build 1')
        echo ('Hello build 2!')
        sleep(1)
        script{
          hello.hello("enrico")
        }
      }
    } 
    stage('Test') {
      steps {
        echo ('Hello test begin 1')
        echo ('Hello test begin 2')
      }
    } 
    stage('Deploy') {
      steps {
        echo ('Hello Deployed 1!')
        echo ('Hello Deployed 2!')
      }
    } 
  }
  post{
    always {
      echo 'I will always say hello'
    }
    success {
      echo 'I will only say hello on success'
    }
    failure {
      echo 'I will only say hello on failure'
    }
    cleanup {
      echo 'Dont care success or error'
    }
  }
}